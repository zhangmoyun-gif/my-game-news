<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>游戏行业动态看板</title>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <style>
        body { font-family: -apple-system, BlinkMacSystemFont, sans-serif; line-height: 1.6; margin: 0; padding: 20px; background: #f6f8fa; }
        .container { max-width: 1200px; margin: 0 auto; }
        .card { background: white; border-radius: 8px; padding: 20px; margin-bottom: 20px; box-shadow: 0 1px 3px rgba(0,0,0,0.1); }
        .news-item { border-left: 4px solid #0366d6; padding-left: 15px; margin-bottom: 15px; }
        .tag { display: inline-block; background: #eef5ff; color: #0366d6; padding: 2px 8px; border-radius: 4px; font-size: 0.8em; margin-right: 5px; }
        table { width: 100%; border-collapse: collapse; margin-top: 10px; }
        th, td { padding: 10px; text-align: left; border-bottom: 1px solid #ddd; }
        th { background: #f6f8fa; }
        .filters { background: #f6f8fa; padding: 15px; border-radius: 5px; margin-bottom: 15px; }
        select, input { padding: 5px; margin-right: 10px; }
    </style>
</head>
<body>
    <div id="app" class="container">
        <h1>🎮 游戏行业动态看板</h1>
        <p>最后更新: {{ lastUpdated }}</p>

        <!-- 资讯头条部分 -->
        <section class="card">
            <h2>📰 本周行业头条</h2>
            <div v-for="article in topArticles" :key="article.link" class="news-item">
                <h3><a :href="article.link" target="_blank">{{ article.title }}</a></h3>
                <p>{{ article.summary }}</p>
                <div class="meta">
                    <small>来源: {{ article.source }} | 日期: {{ article.published }}</small>
                    <span v-for="tag in article.tags" :key="tag" class="tag">#{{ tag }}</span>
                </div>
            </div>
        </section>

        <!-- 新游数据部分 -->
        <section class="card">
            <h2>🎯 近期新游数据 
                <button @click="showFilters = !showFilters" class="filter-btn">
                    {{ showFilters ? '隐藏' : '显示' }}筛选器
                </button>
            </h2>
            
            <div v-if="showFilters" class="filters">
                <label>平台:
                    <select v-model="filters.platform">
                        <option value="">全部</option>
                        <option>手游</option>
                        <option>PC</option>
                        <option>主机</option>
                    </select>
                </label>
                <label>类型:
                    <select v-model="filters.genre">
                        <option value="">全部</option>
                        <option>RPG</option>
                        <option>SLG</option>
                        <option>FPS</option>
                        <option>MOBA</option>
                    </select>
                </label>
            </div>

            <table>
                <thead>
                    <tr>
                        <th>游戏名</th>
                        <th>平台</th>
                        <th>类型</th>
                        <th>上线日期</th>
                        <th>预估下载量</th>
                        <th>预估流水</th>
                    </tr>
                </thead>
                <tbody>
                    <tr v-for="game in filteredGames" :key="game.name">
                        <td>{{ game.name }}</td>
                        <td>{{ game.platform.join(', ') }}</td>
                        <td>{{ game.genre.join(', ') }}</td>
                        <td>{{ game.release_date }}</td>
                        <td>{{ game.estimated_downloads }}</td>
                        <td>{{ game.estimated_revenue }}</td>
                    </tr>
                </tbody>
            </table>
        </section>
    </div>

    <script>
        const { createApp } = Vue;
        
        // 直接将数据嵌入在HTML中，避免外部文件加载问题
        const embeddedData = {
            "last_updated": "2023-10-27 15:30:00",
            "top_articles": [
                {
                    "title": "网易Q3游戏业务营收123亿元，《逆水寒》手游表现强劲",
                    "link": "https://example.com/1",
                    "summary": "网易最新财报显示，游戏业务保持稳定增长，其中《逆水寒》手游上线后表现突出，为营收贡献显著。",
                    "published": "2023-10-26",
                    "source": "GameLook",
                    "score": 6,
                    "tags": ["网易", "财报", "流水"]
                },
                {
                    "title": "10月第二批版号下发：共87款游戏过审",
                    "link": "https://example.com/2",
                    "summary": "国家新闻出版署发布了10月份第二批游戏版号，本次共有87款游戏获得版号，涵盖手游、端游等多个平台。",
                    "published": "2023-10-25",
                    "source": "游戏陀螺",
                    "score": 6,
                    "tags": ["版号"]
                }
            ],
            "new_games": [
                {
                    "name": "《宿命回响：弦上的叹息》",
                    "platform": ["手游"],
                    "genre": ["RPG", "音乐"],
                    "release_date": "2023-10-18",
                    "estimated_downloads": "150万",
                    "estimated_revenue": "500万"
                },
                {
                    "name": "《战锤40K：暗潮》",
                    "platform": ["PC", "Xbox"],
                    "genre": ["FPS", "合作"],
                    "release_date": "2023-10-17",
                    "estimated_downloads": "50万",
                    "estimated_revenue": "300万"
                }
            ]
        };
        
        createApp({
            data() {
                return {
                    lastUpdated: embeddedData.last_updated,
                    topArticles: embeddedData.top_articles,
                    newGames: embeddedData.new_games,
                    showFilters: false,
                    filters: {
                        platform: '',
                        genre: ''
                    }
                };
            },
            computed: {
                filteredGames() {
                    return this.newGames.filter(game => {
                        const platformMatch = !this.filters.platform || 
                            game.platform.includes(this.filters.platform);
                        const genreMatch = !this.filters.genre ||
                            game.genre.includes(this.filters.genre);
                        return platformMatch && genreMatch;
                    });
                }
            }
        }).mount('#app');
    </script>
</body>
</html>
